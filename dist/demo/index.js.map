{
  "version": 3,
  "sources": ["../../bin/live-reload.js", "../../src/demo/index.ts"],
  "sourcesContent": ["new EventSource(`http://localhost:${SERVE_PORT}/esbuild`).addEventListener('change', () =>\n  location.reload()\n);\n", "document.addEventListener('DOMContentLoaded', () => {\n  let debug = false;\n  const form = document.querySelector<HTMLFormElement>('form');\n  if (!form) return;\n  const wTabContent = form.querySelector<HTMLDivElement>('.w-tab-content');\n  if (!wTabContent) return;\n  const formContentPanes = wTabContent.querySelectorAll<HTMLDivElement>('[data-w-tab]');\n  const tabMenu = form.querySelector<HTMLDivElement>('.w-tab-menu');\n  if (!tabMenu) return;\n  const tabLinks = tabMenu.querySelectorAll<HTMLAnchorElement>('a');\n  if (!tabLinks) return;\n  const nextButton = form.querySelector<HTMLAnchorElement>('[wb-data=\"next-button\"]');\n  if (!nextButton) return;\n  //   const backButton = document.querySelector<HTMLAnchorElement>('[wb-data=\"back-button\"]');\n  //   if (!backButton) return;\n  const submitButton = form.querySelector<HTMLInputElement>('[wb-data=\"submit-button\"]');\n  if (!submitButton) return;\n  debug && console.log('selectors finished');\n\n  // set current step to start form\n  let currentStep = 0;\n  let numberOfSteps = formContentPanes.length;\n\n  debug && console.log({ numberOfSteps });\n  debug && console.log({ currentStep });\n\n  // inputs\n  const formFields = document.querySelectorAll<HTMLInputElement>('input');\n\n  const validateEmail = (value: string) => {\n    const emailValidation = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,})+$/;\n    if (value.match(emailValidation)) {\n      return true;\n    }\n    return false;\n  };\n\n  const checkInputValidity = (input: HTMLInputElement) => {\n    let { type, value, checked } = input;\n    if (type === 'text') {\n      if (value.length > 0) {\n        return true;\n      } else {\n        return false;\n      }\n    } else if (type === 'email') {\n      return validateEmail(value);\n    } else if (type === 'radio') {\n      return checked;\n    }\n  };\n\n  const checkStepValidityAndRequired = () => {\n    const stepInputs =\n      wTabContent.children[currentStep].querySelectorAll<HTMLInputElement>('input');\n\n    for (const input of stepInputs) {\n      let isRequired = input.required;\n      let isValid = checkInputValidity(input);\n      if (isRequired && !isValid) return false;\n    }\n    return true;\n  };\n\n  const updateUI = (isValid: boolean) => {\n    // last step\n    if (currentStep === numberOfSteps - 1) {\n      nextButton.classList.add('hide');\n    } else {\n      nextButton.classList.remove('hide');\n    }\n\n    // first step\n    // if (currentStep === 0) {\n    //   backButton.classList.add('hide');\n    // } else {\n    //   backButton.classList.remove('hide');\n    // }\n\n    // update next button\n    if (isValid) {\n      nextButton.classList.remove('disabled');\n    } else {\n      nextButton.classList.add('disabled');\n    }\n  };\n  updateUI(false); // initial load\n\n  const handleFormChange = (e) => {\n    let type = e.target.type;\n    let value = e.target.value;\n    const isValid = checkStepValidityAndRequired();\n    //let isValid = checkInputValidity(type, value);\n    updateUI(isValid);\n  };\n\n  const handleNextButtonClicked = (e) => {\n    currentStep++;\n    let oncomingForm = formContentPanes[currentStep].querySelector('input');\n    if (!oncomingForm) return;\n    let type = oncomingForm.type;\n    let value = oncomingForm.value;\n    let isValid = checkInputValidity(oncomingForm);\n    updateUI(isValid);\n    tabLinks[currentStep].click();\n  };\n\n  //   const handleBackButtonClicked = (e) => {\n  //     currentStep--;\n  //     let oncomingForm = formContentPanes[currentStep].querySelector('input');\n  //     if (!oncomingForm) return;\n  //     let type = oncomingForm.type;\n  //     let value = oncomingForm.value;\n  //     let isValid = checkInputValidity(type, value);\n  //     updateUI(isValid);\n  //     tabLinks[currentStep].click();\n  //   };\n\n  const getFormData = (form: HTMLFormElement) => {\n    let fData = new FormData(form);\n    return {\n      name: fData.get('name')?.toString() || '',\n      email: fData.get('email')?.toString() || '',\n      phone: fData.get('phone')?.toString() || '',\n      role: fData.get('role')?.toString() || '',\n    };\n  };\n\n  Webflow.push(function () {\n    $('form').submit(function () {\n      if (currentStep === numberOfSteps - 1) {\n        //backButton.classList.add('hide');\n        document.querySelector('.bg_radial-gradient')?.classList.remove('opacity-0');\n        document.querySelectorAll('.demo-shapes')?.forEach((demoShape) => {\n          demoShape.classList.remove('opacity-0');\n        });\n\n        const form = this as HTMLFormElement;\n        const { name, email, phone, role } = getFormData(form);\n\n        const calendlyButton = document.querySelector<HTMLAnchorElement>('#calendly-button');\n        if (!calendlyButton) return true; // just submit the form\n        calendlyButton!.href += `?name=${encodeURIComponent(name)}&email=${encodeURIComponent(\n          email\n        )}`;\n\n        return true;\n      } else {\n        return false;\n      }\n    });\n  });\n\n  formFields.forEach((formField) => {\n    formField.addEventListener('input', handleFormChange);\n  });\n\n  nextButton?.addEventListener('click', handleNextButtonClicked);\n  //backButton?.addEventListener('click', handleBackButtonClicked);\n\n  document.addEventListener('keypress', function (e) {\n    if (currentStep === numberOfSteps - 1) return;\n    if (e.key === 'Enter') {\n      if (nextButton.classList.contains('disabled')) return;\n      setTimeout(() => {\n        nextButton.click();\n      }, 500);\n    }\n  });\n});\n"],
  "mappings": "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",
  "names": ["form"]
}
